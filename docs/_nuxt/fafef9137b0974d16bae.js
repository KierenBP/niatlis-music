(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{329:function(t,e,n){"use strict";var r=n(82),o={props:["song"],data:function(){return{previewAudio:null,maxTime:0,currentTime:0}},beforeDestroy:function(){this.stopPreview()},methods:{shareSong:function(t){if("share"in navigator)return navigator.share({title:t.title,url:t.uri});navigator.clipboard.writeText(t.uri),this.$root.$emit("alert",{text:"Copied To Clipboard"})},playSong:function(t){var e=this;r.a.play({uris:[t.uri]}).then((function(t){e.$root.$emit("alert",{text:"Playing on Spotify"})}))},playPreview:function(t){var e=this,n=window.localStorage.getItem("hoverVolume");"true"===window.localStorage.getItem("hoverPlay")&&this.$vuetify.breakpoint.mdAndUp&&(this.stopPreview(),this.previewAudio=new Audio(t.preview_url),this.previewAudio.volume=null!==n?n:.2,this.previewAudio.addEventListener("timeupdate",(function(t){null!==e.previewAudio&&(e.maxTime=e.previewAudio.duration,e.currentTime=100*e.previewAudio.currentTime/e.maxTime)})),this.previewAudio.play())},stopPreview:function(){this.previewAudio&&(this.previewAudio.pause(),this.previewAudio=null)}}},l=n(21),c=n(25),v=n.n(c),h=n(184),d=n(345),m=n(322),f=n(83),y=n(23),_=n(4),S=n(6),w=Object(_.a)(f.a,y.a).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(element=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(element)&&1===element.length&&(element=element[0]),element&&!Array.isArray(element)&&element.tag?(this.disabled||(element.data=element.data||{},this._g(element.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),element):(Object(S.c)("v-hover should only contain a single element",this),element)):(Object(S.c)("v-hover is missing a default scopedSlot or bound value",this),null);var element}}),A=n(125),T=n(108),k=n(346),x=n(315),V=n(337),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[n("v-card",{attrs:{elevation:r?24:6},on:{mouseenter:function(e){return t.playPreview(t.song)},mouseleave:t.stopPreview}},[n("v-img",{staticClass:"white--text align-end",staticStyle:{cursor:"pointer"},attrs:{src:t.song.album.images[1].url,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"300px"},on:{click:function(e){return t.$router.push({name:"search-track-id",params:{id:t.song.id}})}}},[n("v-card-title",{domProps:{textContent:t._s(t.song.name)}}),t._v(" "),n("v-card-subtitle",{staticClass:"white--text",domProps:{textContent:t._s(t.song.artists[0].name)}})],1),t._v(" "),n("v-progress-linear",{attrs:{active:r&&null!==t.previewAudio,value:t.currentTime,"buffer-value":"0",stream:""}}),t._v(" "),n("v-card-actions",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.playSong(t.song)}}},r),[n("v-icon",[t._v("mdi-play-circle")])],1)]}}],null,!0)},[t._v(" "),n("span",[t._v("Play In Spotify")])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{href:t.song.uri,icon:""}},r),[n("v-icon",[t._v("mdi-spotify")])],1)]}}],null,!0)},[t._v(" "),n("span",[t._v("Open in Spotify")])]),t._v(" "),n("v-spacer"),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.shareSong(t.song)}}},r),[n("v-icon",[t._v("mdi-plus")])],1)]}}],null,!0)},[t._v(" "),n("span",[t._v("Add To Playlist")])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.shareSong(t.song)}}},r),[n("v-icon",[t._v("mdi-share-variant")])],1)]}}],null,!0)},[t._v(" "),n("span",[t._v("Share")])])],1)],1)]}}])})}),[],!1,null,null,null);e.a=component.exports;v()(component,{VBtn:h.a,VCard:d.a,VCardActions:m.a,VCardSubtitle:m.b,VCardTitle:m.d,VHover:w,VIcon:A.a,VImg:T.a,VProgressLinear:k.a,VSpacer:x.a,VTooltip:V.a})},371:function(t,e,n){"use strict";n.r(e);n(190);var r=n(82),o={meta:{name:"Search"},components:{SongCard:n(329).a},data:function(){return{searchString:"",searchResults:[],loading:!1,searchTimeout:null}},mounted:function(){var t=this.$route.query.q;void 0!==t&&t.length>3&&(this.searchString=t,this.searchForTrack())},methods:{searchForTrack:function(){var t=this;this.searchResults=[],clearTimeout(this.searchTimeout),this.searchString.length>3&&(this.loading=!0,this.searchTimeout=setTimeout((function(){r.a.search(t.searchString,["track"]).then((function(e){t.searchResults=e.tracks.items,t.$router.push({query:{q:t.searchString}}),t.loading=!1}))}),200))}}},l=n(21),c=n(25),v=n.n(c),h=n(352),d=(n(14),n(23)),m=n(168),f=n(4),y=n(0),_=Object(f.a)(d.a).extend({name:"VLazy",directives:{intersect:m.a},props:{minHeight:[Number,String],options:{type:Object,default:function(){return{root:void 0,rootMargin:void 0,threshold:void 0}}},transition:{type:String,default:"fade-transition"}},computed:{styles:function(){return{minHeight:parseInt(this.minHeight)?Object(y.f)(this.minHeight):this.minHeight}}},methods:{genContent:function(){var slot=Object(y.o)(this);if(!this.transition)return slot;var t=[];return this.isActive&&t.push(slot),this.$createElement("transition",{props:{name:this.transition}},t)},onObserve:function(t,e,n){this.isActive||(this.isActive=n)}},render:function(t){return t("div",{staticClass:"v-lazy",attrs:this.$attrs,directives:[{name:"intersect",value:{handler:this.onObserve,options:this.options}}],on:this.$listeners,style:this.styles},[this.genContent()])}}),S=n(353),w=n(380),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{id:"searchbox",loading:t.loading,label:"Search For Track...",solo:"",autofocus:"","append-icon":"mdi-magnify","auto-complete":"off"},on:{input:t.searchForTrack},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}})],1)],1),t._v(" "),t.loading?t._e():n("v-row",{attrs:{justify:"center"}},t._l(t.searchResults,(function(t){return n("v-col",{key:t.id,attrs:{cols:"12",md:"4",lg:"3",xl:"2"}},[n("v-lazy",[n("SongCard",{attrs:{song:t}})],1)],1)})),1)],1)}),[],!1,null,null,null);e.default=component.exports;v()(component,{VCol:h.a,VLazy:_,VRow:S.a,VTextField:w.a})}}]);